{"ast":null,"code":"var _jsxFileName = \"/Users/na/Documents/RemoteSSH/src/components/Main/Join.js\";\nimport React, { useRef, useState, useEffect } from 'react';\nimport { useLocation } from 'react-router-dom';\nimport styled from 'styled-components';\nimport socket from '../../socket';\n\nfunction useQuery() {\n  return new URLSearchParams(useLocation().search);\n}\n\nconst Join = props => {\n  const userRef = useRef();\n  const [err, setErr] = useState(false);\n  const [errMsg, setErrMsg] = useState('');\n  const query = useQuery();\n  const [roomId, setRoomId] = useState(query.get('roomId') || '');\n  const [userName, setUserName] = useState('');\n  useEffect(() => {\n    socket.on('FE-error-user-exist', ({\n      error\n    }) => {\n      if (!error) {\n        console.log(\"Join \", userName, roomId);\n        sessionStorage.setItem('user', userName);\n        props.history.push(`/room/${roomId}`);\n        socket.emit('BE-join-room', {\n          roomId: props.match.params.roomId,\n          userName: sessionStorage.getItem('user')\n        });\n      } else {\n        setErr(error);\n        setErrMsg('User name already exist');\n      }\n    });\n  }, [props.history, userName, roomId]);\n\n  function clickJoin() {\n    if (!roomId || !userName) {\n      setErr(true);\n      setErrMsg('Enter Room Name or User Name');\n    } else {\n      socket.emit('BE-check-user', {\n        roomId: roomId,\n        userName\n      });\n    }\n  }\n\n  return /*#__PURE__*/React.createElement(MainContainer, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 46,\n      columnNumber: 9\n    }\n  }, /*#__PURE__*/React.createElement(Row, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 47,\n      columnNumber: 13\n    }\n  }, /*#__PURE__*/React.createElement(Label, {\n    htmlFor: \"roomName\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 48,\n      columnNumber: 17\n    }\n  }, \"Room Name\"), /*#__PURE__*/React.createElement(Input, {\n    value: roomId,\n    type: \"text\",\n    id: \"roomName\",\n    onChange: e => {\n      setRoomId(e.currentTarget.value);\n    },\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 49,\n      columnNumber: 17\n    }\n  })), /*#__PURE__*/React.createElement(Row, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 53,\n      columnNumber: 13\n    }\n  }, /*#__PURE__*/React.createElement(Label, {\n    htmlFor: \"userName\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 54,\n      columnNumber: 17\n    }\n  }, \"User Name\"), /*#__PURE__*/React.createElement(Input, {\n    value: userName,\n    type: \"text\",\n    id: \"userName\",\n    onChange: e => {\n      setUserName(e.currentTarget.value);\n    },\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 55,\n      columnNumber: 17\n    }\n  })), /*#__PURE__*/React.createElement(JoinButton, {\n    onClick: clickJoin,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 59,\n      columnNumber: 13\n    }\n  }, \" Join \"), err ? /*#__PURE__*/React.createElement(Error, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 60,\n      columnNumber: 20\n    }\n  }, errMsg) : null);\n};\n\nconst MainContainer = styled.div`\n  display: flex;\n  flex-direction: column;\n`;\nconst Row = styled.div`\n  display: flex;\n  align-items: center;\n  justify-content: flex-end;\n  margin-top: 15px;\n  line-height: 35px;\n`;\nconst Label = styled.label``;\nconst Input = styled.input`\n  width: 150px;\n  height: 35px;\n  margin-left: 15px;\n  padding-left: 10px;\n  outline: none;\n  border: none;\n  border-radius: 5px;\n`;\nconst Error = styled.div`\n  margin-top: 10px;\n  font-size: 20px;\n  color: #e85a71;\n`;\nconst JoinButton = styled.button`\n  height: 40px;\n  margin-top: 35px;\n  outline: none;\n  border: none;\n  border-radius: 15px;\n  color: #d8e9ef;\n  background-color: #4ea1d3;\n  font-size: 25px;\n  font-weight: 500;\n\n  :hover {\n    background-color: #7bb1d1;\n    cursor: pointer;\n  }\n`;\nexport default Join;","map":{"version":3,"sources":["/Users/na/Documents/RemoteSSH/src/components/Main/Join.js"],"names":["React","useRef","useState","useEffect","useLocation","styled","socket","useQuery","URLSearchParams","search","Join","props","userRef","err","setErr","errMsg","setErrMsg","query","roomId","setRoomId","get","userName","setUserName","on","error","console","log","sessionStorage","setItem","history","push","emit","match","params","getItem","clickJoin","e","currentTarget","value","MainContainer","div","Row","Label","label","Input","input","Error","JoinButton","button"],"mappings":"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","sourcesContent":["import React, {useRef, useState, useEffect} from 'react';\nimport {useLocation} from 'react-router-dom';\nimport styled from 'styled-components';\nimport socket from '../../socket';\n\nfunction useQuery() {\n    return new URLSearchParams(useLocation().search);\n}\n\nconst Join = (props) => {\n    const userRef = useRef();\n    const [err, setErr] = useState(false);\n    const [errMsg, setErrMsg] = useState('');\n\n    const query = useQuery();\n\n    const [roomId, setRoomId] = useState(query.get('roomId') || '');\n    const [userName, setUserName] = useState('');\n\n    useEffect(() => {\n\n        socket.on('FE-error-user-exist', ({error}) => {\n            if (!error) {\n                console.log(\"Join \", userName, roomId);\n                sessionStorage.setItem('user', userName);\n                props.history.push(`/room/${roomId}`);\n                socket.emit('BE-join-room', { roomId: props.match.params.roomId, userName: sessionStorage.getItem('user') });\n\n            } else {\n                setErr(error);\n                setErrMsg('User name already exist');\n            }\n        });\n    }, [props.history, userName, roomId]);\n\n    function clickJoin() {\n        if (!roomId || !userName) {\n            setErr(true);\n            setErrMsg('Enter Room Name or User Name');\n        } else {\n            socket.emit('BE-check-user', {roomId: roomId, userName});\n        }\n    }\n\n    return (\n        <MainContainer>\n            <Row>\n                <Label htmlFor=\"roomName\">Room Name</Label>\n                <Input value={roomId} type=\"text\" id=\"roomName\" onChange={(e) => {\n                    setRoomId(e.currentTarget.value);\n                }}/>\n            </Row>\n            <Row>\n                <Label htmlFor=\"userName\">User Name</Label>\n                <Input value={userName} type=\"text\" id=\"userName\" onChange={(e) => {\n                    setUserName(e.currentTarget.value);\n                }}/>\n            </Row>\n            <JoinButton onClick={clickJoin}> Join </JoinButton>\n            {err ? <Error>{errMsg}</Error> : null}\n        </MainContainer>\n    );\n};\n\nconst MainContainer = styled.div`\n  display: flex;\n  flex-direction: column;\n`;\n\nconst Row = styled.div`\n  display: flex;\n  align-items: center;\n  justify-content: flex-end;\n  margin-top: 15px;\n  line-height: 35px;\n`;\n\nconst Label = styled.label``;\n\nconst Input = styled.input`\n  width: 150px;\n  height: 35px;\n  margin-left: 15px;\n  padding-left: 10px;\n  outline: none;\n  border: none;\n  border-radius: 5px;\n`;\n\nconst Error = styled.div`\n  margin-top: 10px;\n  font-size: 20px;\n  color: #e85a71;\n`;\n\nconst JoinButton = styled.button`\n  height: 40px;\n  margin-top: 35px;\n  outline: none;\n  border: none;\n  border-radius: 15px;\n  color: #d8e9ef;\n  background-color: #4ea1d3;\n  font-size: 25px;\n  font-weight: 500;\n\n  :hover {\n    background-color: #7bb1d1;\n    cursor: pointer;\n  }\n`;\n\nexport default Join;\n"]},"metadata":{},"sourceType":"module"}