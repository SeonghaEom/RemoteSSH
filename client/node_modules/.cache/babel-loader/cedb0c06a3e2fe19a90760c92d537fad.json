{"ast":null,"code":"var _jsxFileName = \"/Users/na/Documents/RemoteSSH/src/components/Main/Join.js\";\nimport React, { useRef, useState, useEffect } from 'react';\nimport { useLocation } from 'react-router-dom';\nimport styled from 'styled-components';\nimport socket from '../../socket';\nimport NavbarEmpty from '../Navbar/NavbarEmpty';\n\nfunction useQuery() {\n  return new URLSearchParams(useLocation().search);\n}\n\nconst Join = props => {\n  const userRef = useRef();\n  const [err, setErr] = useState(false);\n  const [errMsg, setErrMsg] = useState('');\n  const query = useQuery();\n  console.log(\"query \", query);\n  console.log(\"query \", query);\n  const [roomId, setRoomId] = useState(query.get('roomId') || '');\n  const [userName, setUserName] = useState('');\n  useEffect(() => {\n    socket.on('FE-error-user-exist', ({\n      error,\n      roomId,\n      userName\n    }) => {\n      if (!error) {\n        // console.log(\"Join \", userName, roomId);\n        sessionStorage.setItem('user', userName);\n        props.history.push(`/room/${roomId}`);\n      } else {\n        setErr(error);\n        setErrMsg('User name already exist');\n      }\n    });\n  }, [props.history]);\n\n  function clickJoin() {\n    if (!roomId || !userName) {\n      setErr(true);\n      setErrMsg('Enter Room Name or User Name');\n    } else {\n      // console.log(\"Join \", userName, roomId);\n      socket.emit('BE-check-user', {\n        roomId: roomId,\n        userName\n      });\n    }\n  }\n\n  return /*#__PURE__*/React.createElement(MainContainer, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 51,\n      columnNumber: 9\n    }\n  }, /*#__PURE__*/React.createElement(NavbarEmpty, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 52,\n      columnNumber: 13\n    }\n  }), /*#__PURE__*/React.createElement(\"h3\", {\n    className: \"join-command\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 53,\n      columnNumber: 13\n    }\n  }, \"Type in the roomname and username you used to login\"), /*#__PURE__*/React.createElement(Row, {\n    id: \"room-input\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 54,\n      columnNumber: 13\n    }\n  }, /*#__PURE__*/React.createElement(Label, {\n    htmlFor: \"roomName\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 55,\n      columnNumber: 17\n    }\n  }, \"Room Name\"), /*#__PURE__*/React.createElement(Input, {\n    value: roomId,\n    type: \"text\",\n    id: \"roomName\",\n    onChange: e => {\n      setRoomId(e.currentTarget.value);\n    },\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 56,\n      columnNumber: 17\n    }\n  })), /*#__PURE__*/React.createElement(Row, {\n    id: \"user-input\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 60,\n      columnNumber: 13\n    }\n  }, /*#__PURE__*/React.createElement(Label, {\n    htmlFor: \"userName\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 61,\n      columnNumber: 17\n    }\n  }, \"User Name\"), /*#__PURE__*/React.createElement(Input, {\n    value: userName,\n    type: \"text\",\n    id: \"userName\",\n    onChange: e => {\n      setUserName(e.currentTarget.value);\n    },\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 62,\n      columnNumber: 17\n    }\n  })), /*#__PURE__*/React.createElement(JoinButton, {\n    onClick: clickJoin,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 66,\n      columnNumber: 13\n    }\n  }, \" Join \"), err ? /*#__PURE__*/React.createElement(Error, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 67,\n      columnNumber: 20\n    }\n  }, errMsg) : null);\n};\n\nconst MainContainer = styled.div`\n  display: flex;\n  flex-direction: column;\n`;\nconst Row = styled.div`\n  display: flex;\n  align-items: center;\n  justify-content: flex-end;\n  margin-top: 15px;\n  line-height: 35px;\n`;\nconst Label = styled.label``;\nconst Input = styled.input`\n  width: 150px;\n  height: 35px;\n  margin-left: 15px;\n  padding-left: 10px;\n  outline: none;\n  border: none;\n  border-radius: 5px;\n`;\nconst Error = styled.div`\n  margin-top: 10px;\n  font-size: 20px;\n  color: #e85a71;\n`;\nconst JoinButton = styled.button`\n  height: 40px;\n  margin-top: 35px;\n  outline: none;\n  border: none;\n  border-radius: 15px;\n  color: #d8e9ef;\n  background-color: #4ea1d3;\n  font-size: 25px;\n  font-weight: 500;\n\n  :hover {\n    background-color: #7bb1d1;\n    cursor: pointer;\n  }\n`;\nexport default Join;","map":{"version":3,"sources":["/Users/na/Documents/RemoteSSH/src/components/Main/Join.js"],"names":["React","useRef","useState","useEffect","useLocation","styled","socket","NavbarEmpty","useQuery","URLSearchParams","search","Join","props","userRef","err","setErr","errMsg","setErrMsg","query","console","log","roomId","setRoomId","get","userName","setUserName","on","error","sessionStorage","setItem","history","push","clickJoin","emit","e","currentTarget","value","MainContainer","div","Row","Label","label","Input","input","Error","JoinButton","button"],"mappings":"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","sourcesContent":["import React, {useRef, useState, useEffect} from 'react';\nimport {useLocation} from 'react-router-dom';\nimport styled from 'styled-components';\nimport socket from '../../socket';\nimport NavbarEmpty from '../Navbar/NavbarEmpty';\n\nfunction useQuery() {\n    return new URLSearchParams(useLocation().search);\n}\n\nconst Join = (props) => {\n    const userRef = useRef();\n    const [err, setErr] = useState(false);\n    const [errMsg, setErrMsg] = useState('');\n\n    const query = useQuery();\n    console.log(\"query \",  query);\n \n\n    console.log(\"query \",  query);\n \n    const [roomId, setRoomId] = useState(query.get('roomId') || '');\n    const [userName, setUserName] = useState('');\n\n    useEffect(() => {\n\n        socket.on('FE-error-user-exist', ({error, roomId, userName}) => {\n            if (!error) {\n                // console.log(\"Join \", userName, roomId);\n                sessionStorage.setItem('user', userName);\n                props.history.push(`/room/${roomId}`);\n\n            } else {\n                setErr(error);\n                setErrMsg('User name already exist');\n            }\n        });\n    }, [props.history]);\n\n    function clickJoin() {\n        if (!roomId || !userName) {\n            setErr(true);\n            setErrMsg('Enter Room Name or User Name');\n        } else {\n          // console.log(\"Join \", userName, roomId);\n            socket.emit('BE-check-user', {roomId: roomId, userName});\n        }\n    }\n\n    return (\n        <MainContainer>\n            <NavbarEmpty/>\n            <h3 className=\"join-command\">Type in the roomname and username you used to login</h3>\n            <Row id=\"room-input\">\n                <Label htmlFor=\"roomName\">Room Name</Label>\n                <Input value={roomId} type=\"text\" id=\"roomName\" onChange={(e) => {\n                    setRoomId(e.currentTarget.value);\n                }}/>\n            </Row>\n            <Row id=\"user-input\">\n                <Label htmlFor=\"userName\">User Name</Label>\n                <Input value={userName} type=\"text\" id=\"userName\" onChange={(e) => {\n                    setUserName(e.currentTarget.value);\n                }}/>\n            </Row>\n            <JoinButton onClick={clickJoin}> Join </JoinButton>\n            {err ? <Error>{errMsg}</Error> : null}\n        </MainContainer>\n    );\n};\n\nconst MainContainer = styled.div`\n  display: flex;\n  flex-direction: column;\n`;\n\nconst Row = styled.div`\n  display: flex;\n  align-items: center;\n  justify-content: flex-end;\n  margin-top: 15px;\n  line-height: 35px;\n`;\n\nconst Label = styled.label``;\n\nconst Input = styled.input`\n  width: 150px;\n  height: 35px;\n  margin-left: 15px;\n  padding-left: 10px;\n  outline: none;\n  border: none;\n  border-radius: 5px;\n`;\n\nconst Error = styled.div`\n  margin-top: 10px;\n  font-size: 20px;\n  color: #e85a71;\n`;\n\nconst JoinButton = styled.button`\n  height: 40px;\n  margin-top: 35px;\n  outline: none;\n  border: none;\n  border-radius: 15px;\n  color: #d8e9ef;\n  background-color: #4ea1d3;\n  font-size: 25px;\n  font-weight: 500;\n\n  :hover {\n    background-color: #7bb1d1;\n    cursor: pointer;\n  }\n`;\n\nexport default Join;\n"]},"metadata":{},"sourceType":"module"}