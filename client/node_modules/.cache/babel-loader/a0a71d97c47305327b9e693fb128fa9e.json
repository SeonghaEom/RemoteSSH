{"ast":null,"code":"export function getSortByVal(reversed) {\n  return function sortByVal(a, b) {\n    if (a.val > b.val) {\n      return reversed ? -1 : 1;\n    }\n\n    if (b.val > a.val) {\n      return reversed ? 1 : -1;\n    }\n\n    return 0;\n  };\n}\nexport function getUpdatedValues(values, updateKey, updateValue, reversed) {\n  var index = values.findIndex(function (v) {\n    return v.key === updateKey;\n  });\n\n  if (index !== -1) {\n    var _values$index = values[index],\n        key = _values$index.key,\n        val = _values$index.val;\n\n    if (val === updateValue) {\n      return values;\n    }\n\n    return [].concat(values.slice(0, index), [{\n      key: key,\n      val: updateValue\n    }], values.slice(index + 1)).sort(getSortByVal(reversed));\n  }\n\n  return values;\n}\nexport function getSliderDomain(slider, vertical, scale) {\n  if (!slider) {\n    return [0, 0];\n  }\n\n  var s = slider.getBoundingClientRect();\n  var d0 = vertical ? s.top : s.left;\n  var d1 = vertical ? s.bottom : s.right;\n  var k = Math.abs(d0 - d1) / scale.n / 2;\n  return [d0 - k, d1 + k];\n}\n\nfunction precision(num) {\n  var m = ('' + num).match(/(?:\\.(\\d+))?(?:[eE]([+-]?\\d+))?$/);\n\n  if (!m) {\n    return 0;\n  }\n\n  return Math.max(0, (m[1] ? m[1].length : 0) - (m[2] ? +m[2] : 0));\n}\n\nexport function getStepRange(min, max, step) {\n  var fixed = precision(step);\n  var pMin = +min.toFixed(fixed);\n  var pMax = +max.toFixed(fixed);\n  var range = [];\n  var next = pMin;\n\n  while (next <= pMax) {\n    range.push(next);\n    next = +(next + step).toFixed(fixed);\n\n    if (range.length > 1000000) {\n      throw new Error('Slider range is too large.  Increase step value.');\n    }\n  }\n\n  return range;\n}\nexport function isNotValidTouch(_ref) {\n  var _ref$type = _ref.type,\n      type = _ref$type === undefined ? '' : _ref$type,\n      touches = _ref.touches;\n  return !touches || touches.length > 1 || type.toLowerCase() === 'touchend' && touches.length > 0;\n}\nexport function getTouchPosition(vertical, e) {\n  return vertical ? e.touches[0].clientY : e.touches[0].pageX;\n}","map":null,"metadata":{},"sourceType":"module"}